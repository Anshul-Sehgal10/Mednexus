(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[141],{8310:(e,t,r)=>{Promise.resolve().then(r.bind(r,6270))},6270:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var a=r(5155),s=r(2115),l=r(7650),n=r(4109);let o=(0,r(4057).A)("UserRound",[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]]);var d=r(9609);function i(e){let{data:t,streamdiv:r,answer:l}=e,d=(0,s.useRef)(null);return(0,s.useEffect)(()=>{var e;null===(e=d.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},[t]),(0,a.jsxs)("div",{className:"flex-1 rounded-3xl border border-gray-600 bg-gray-800 overflow-y-auto p-6 space-y-4 sm:mx-52",children:[t.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-end gap-x-3 ".concat("user"===e.role?"justify-end":"justify-start"),children:["model"===e.role&&(0,a.jsx)(n.A,{className:"w-8 h-8 text-gray-300 rounded-full p-1 bg-gray-700"}),(0,a.jsx)("div",{className:"max-w-[75%] p-4 rounded-2xl shadow-lg text-sm leading-relaxed ".concat("user"===e.role?"bg-indigo-600 text-white":"bg-gray-800 text-gray-200"),dangerouslySetInnerHTML:{__html:e.parts[0].text.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\n/g,"<br>")}}),"user"===e.role&&(0,a.jsx)(o,{className:"w-8 h-8 text-indigo-300 rounded-full p-1 bg-gray-700"})]},t)),r&&(0,a.jsxs)("div",{className:"flex items-end gap-x-3 justify-start",children:[(0,a.jsx)(n.A,{className:"w-8 h-8 text-gray-300"}),(0,a.jsx)("div",{className:"max-w-[75%] p-4 rounded-2xl bg-gray-800 text-gray-200 shadow-lg",dangerouslySetInnerHTML:{__html:l.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\n/g,"<br>")}})]}),(0,a.jsx)("div",{ref:d})]})}function c(e){let{inputRef:t,waiting:r,handleClick:s}=e;return(0,a.jsx)("div",{className:"p-4 bg-gray-900 sm:mx-52",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3 max-w-4xl mx-auto bg-gray-800 p-3 rounded-full shadow-lg",children:[(0,a.jsx)("input",{ref:t,type:"text",placeholder:"Type your message...",className:"flex-1 bg-transparent text-white outline-none px-3 placeholder-gray-400",disabled:r,onKeyDown:e=>"Enter"===e.key&&!e.shiftKey&&(e.preventDefault(),s())}),(0,a.jsx)("button",{onClick:s,className:"p-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-full transition duration-200 disabled:opacity-50",disabled:r,children:(0,a.jsx)(d.A,{className:"w-5 h-5"})})]})})}function u(){let e=(0,s.useRef)(),t="".concat("http://localhost:3004/api/ai","/stream"),[r,n]=(0,s.useState)([]),[o,d]=(0,s.useState)(""),[u,h]=(0,s.useState)(!1),[x,g]=(0,s.useState)(!1),p=async()=>{let a={chat:e.current.value,history:r},s=[...r,{role:"user",parts:[{text:e.current.value}]}];(0,l.flushSync)(()=>{n(s),e.current.value="",e.current.placeholder="Waiting for response...",g(!0)});try{d("");let e=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!e.ok||!e.body)throw e.statusText;let r=e.body.getReader(),l=new TextDecoder;h(!0);let o="";for(;;){let{value:e,done:t}=await r.read();if(t)break;let a=l.decode(e,{stream:!0});d(e=>e+a),o+=a}n([...s,{role:"model",parts:[{text:o}]}])}catch(e){n([...s,{role:"model",parts:[{text:"Error occurred"}]}])}finally{d(""),h(!1),e.current.placeholder="Type your message...",g(!1)}};return(0,a.jsxs)("div",{className:"flex flex-col h-screen bg-gray-900 text-white pt-24",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("h1",{className:"text-5xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-gray-200 via-white to-gray-300",children:"AI Assistance"}),(0,a.jsx)("p",{className:"text-gray-400 text-lg font-medium tracking-wider",children:"GEMINI-POWERED MEDICAL AI ASSISTANT â€¢ VERSION 1.0"})]}),(0,a.jsx)(i,{data:r,streamdiv:u,answer:o}),(0,a.jsx)(c,{inputRef:e,waiting:x,handleClick:()=>{e.current.value.trim()&&p()}})]})}},4057:(e,t,r)=>{"use strict";r.d(t,{A:()=>d});var a=r(2115);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=(0,a.forwardRef)((e,t)=>{let{color:r="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:d,className:i="",children:c,iconNode:u,...h}=e;return(0,a.createElement)("svg",{ref:t,...n,width:s,height:s,stroke:r,strokeWidth:d?24*Number(o)/Number(s):o,className:l("lucide",i),...h},[...u.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(c)?c:[c]])}),d=(e,t)=>{let r=(0,a.forwardRef)((r,n)=>{let{className:d,...i}=r;return(0,a.createElement)(o,{ref:n,iconNode:t,className:l("lucide-".concat(s(e)),d),...i})});return r.displayName="".concat(e),r}},4109:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(4057).A)("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]])},9609:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(4057).A)("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[441,517,358],()=>t(8310)),_N_E=e.O()}]);